<!-- acceleratedrehabtherapy/templates/base.html -->

<!DOCTYPE html>
{% load static %}
{% load compress %}
<html lang="en" class="h-full">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <title>{% block title %}{{ meta_title|default:"Accelerated Rehab Therapy | Chiropractic & Rehabilitation Services in Greeley & Denver" }}{% endblock %}</title>
    <meta name="description" content="{% block meta_description %}{{ meta_description|default:'Expert chiropractic care, physical therapy, and rehabilitation services in Greeley and Denver. Specializing in auto injuries, work comp, and chronic pain relief.' }}{% endblock %}">
    <meta name="keywords" content="chiropractor Greeley, physical therapy Denver, rehabilitation services, auto injury treatment, work comp therapy, pain management, chiropractic care, sports injury therapy">
    <meta name="author" content="Accelerated Rehab Therapy">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:title" content="{% block og_title %}{{ meta_title|default:'Accelerated Rehab Therapy' }}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}{{ meta_description|default:'Expert chiropractic and rehabilitation services in Greeley and Denver' }}{% endblock %}">
    <meta property="og:image" content="{% block og_image %}{{ request.scheme }}://{{ request.get_host }}{% static 'img/og-default.jpg' %}{% endblock %}">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}{{ meta_title|default:'Accelerated Rehab Therapy' }}{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}{{ meta_description|default:'Expert chiropractic and rehabilitation services in Greeley and Denver' }}{% endblock %}">
    <meta name="twitter:image" content="{% block twitter_image %}{{ request.scheme }}://{{ request.get_host }}{% static 'img/og-default.jpg' %}{% endblock %}">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{{ request.build_absolute_uri }}">
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Preload critical assets -->
    <link rel="preload" href="{% static 'dist/styles.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="{% static 'dist/styles.css' %}?v={% now 'Ymd' %}"></noscript>
    
    <!-- Google Fonts with preload -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"></noscript>
    
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800&display=swap"></noscript>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'img/favicon.ico' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'img/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'img/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'site.webmanifest' %}">
    
    {% compress css %}
    <link rel="stylesheet" href="{% static 'dist/styles.css' %}">
    {% endcompress %}
    
    <!-- Structured Data -->
    {% include 'includes/_structured_data.html' %}
    
    {% compress css %}
    <style>
        :root {
            /* Viewport-relative units */
            --vw: 1vw;
            --vh: 1vh;
            
            /* Fluid typography scale */
            --fluid-h1: clamp(2rem, calc(1.8rem + 2vw), 4rem);
            --fluid-h2: clamp(1.8rem, calc(1.5rem + 1.5vw), 3.5rem);
            --fluid-h3: clamp(1.5rem, calc(1.3rem + 1vw), 3rem);
            --fluid-body: clamp(1rem, calc(0.9rem + 0.5vw), 1.25rem);
            
            /* Fluid spacing */
            --space-xs: clamp(0.5rem, calc(0.4rem + 0.5vw), 1rem);
            --space-sm: clamp(1rem, calc(0.8rem + 1vw), 2rem);
            --space-md: clamp(2rem, calc(1.5rem + 2vw), 4rem);
            --space-lg: clamp(3rem, calc(2rem + 3vw), 6rem);
            
            /* Container widths */
            --container-padding: max(1rem, calc(1rem + ((100vw - 320px) * 0.005)));
        }

        /* Fluid container class */
        .container-fluid {
            width: min(100% - (var(--container-padding) * 2), 1920px);
            margin-inline: auto;
            padding-inline: var(--container-padding);
        }

        /* Maintain image aspect ratios */
        .fluid-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Fluid hero section */
        .hero-section {
            min-height: max(600px, 100vh);
            width: 100vw;
            margin-left: calc(50% - 50vw);
            margin-right: calc(50% - 50vw);
        }

        /* Text scaling utilities */
        .text-fluid-h1 { font-size: var(--fluid-h1); }
        .text-fluid-h2 { font-size: var(--fluid-h2); }
        .text-fluid-h3 { font-size: var(--fluid-h3); }
        .text-fluid-body { font-size: var(--fluid-body); }

        /* Fluid spacing utilities */
        .space-fluid-xs { padding: var(--space-xs); }
        .space-fluid-sm { padding: var(--space-sm); }
        .space-fluid-md { padding: var(--space-md); }
        .space-fluid-lg { padding: var(--space-lg); }
    </style>
    {% endcompress %}
    
    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    {% block extra_head %}{% endblock %}
</head>
<body class="flex flex-col min-h-screen">
    <div id="wrapper" class="flex flex-col min-h-screen">
        <!-- Fixed Header -->
        <header class="fixed top-0 left-0 right-0 w-full bg-[#001524] z-50">
            {% include 'includes/header.html' %}
        </header>

        <!-- Main Content -->
        <main class="flex-grow relative pt-28">
            {% block content %}{% endblock %}
        </main>

        <!-- Footer -->
        <footer class="relative bg-[#001524] text-white">
            {% include 'includes/footer.html' %}
        </footer>
    </div>

    <!-- Custom ZocDoc Booking Button - Styled to Match Site -->
    <style>
        /* Subtle pulse animation for booking button */
        .art-pulse {
            animation: art-pulse 2s infinite;
        }
        @keyframes art-pulse {
            0% { transform: scale(1); box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
            50% { transform: scale(1.07); box-shadow: 0 8px 16px rgba(245,158,11,0.35); }
            100% { transform: scale(1); box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        }
        /* Gentle bounce animation for calendar icon */
        .art-bounce {
            animation: art-bounce 1.7s infinite;
            display: inline-block;
        }
        @keyframes art-bounce {
            0%, 100% { transform: translateY(0); }
            10% { transform: translateY(-2px); }
            20% { transform: translateY(-5px); }
            30% { transform: translateY(-9px); }
            40% { transform: translateY(-5px); }
            50% { transform: translateY(0); }
            60% { transform: translateY(2px); }
            70% { transform: translateY(0); }
        }
    </style>
    <div style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
        <div class="group" style="display: flex; flex-direction: column; gap: 10px; align-items: flex-end;">
            <!-- Spanish Support Button -->
            <a href="tel:+19703241750"
               target="_self" rel="noopener noreferrer"
               class="art-pulse"
               data-tooltip-id="tooltip-es"
               style="display: flex; align-items: center; gap: 8px; padding: 10px 16px; 
                      background: linear-gradient(to bottom, #34d399, #059669); 
                      color: black; font-weight: bold; text-decoration: none; 
                      border-radius: 9999px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
                      transition: all 0.3s ease; font-size: 14px;" 
               onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 6px 8px rgba(0,0,0,0.15)';"
               onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';"
               title="Hablamos Español - Llámanos">
                <!-- Phone Icon -->
                <svg class="art-bounce" style="width: 18px; height: 18px; flex-shrink: 0;" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M2.003 5.884c-.06-1.045.748-1.93 1.793-1.99a18.64 18.64 0 0112.4 4.84 18.64 18.64 0 014.84 12.4c.06 1.045-.945 1.93-1.99 1.793a2.003 2.003 0 01-1.71-1.102l-1.22-2.44a2 2 0 00-1.26-1.02l-2.79-.7a2 2 0 00-1.97.57l-.8.81a15.94 15.94 0 01-7.52-7.52l.81-.8a2 2 0 00.57-1.97l-.7-2.79a2 2 0 00-1.02-1.26l-2.44-1.22a2.003 2.003 0 01-1.102-1.71z" />
                </svg>
                <span style="display: inline;">Hablamos Español</span>
            </a>
            
            <!-- Custom Button with Site-Matching Styling, Pulse & Animated Icon -->
            <a href="https://www.zocdoc.com/practice/accelerated-rehab-therapy-57575?lock=true&isNewPatient=false&referrerType=widget"
               target="_blank" rel="noopener noreferrer"
               class="art-pulse"
               data-tooltip-id="tooltip-book"
               style="display: flex; align-items: center; gap: 8px; padding: 10px 16px; 
                      background: linear-gradient(to bottom, #f59e0b, #ea580c); 
                      color: black; font-weight: bold; text-decoration: none; 
                      border-radius: 9999px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
                      transition: all 0.3s ease; font-size: 14px;" 
               onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 6px 8px rgba(0,0,0,0.15)';"
               onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)';"
               title="Book Appointment - Accelerated Rehab Therapy">
                <!-- Animated Calendar Icon -->
                <svg class="art-bounce" style="width: 18px; height: 18px; flex-shrink: 0;" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zM4 8h12v8H4V8z"/>
                </svg>
                <span style="display: inline;">Book Appointment</span>
            </a>
            
            <!-- Mobile Tooltips -->
            <div id="tooltip-es" style="position: absolute; bottom: 100%; right: 0; margin-bottom: 8px; padding: 6px 12px;
                        background-color: #1f2937; color: white; font-size: 12px; border-radius: 4px;
                        opacity: 0; transition: opacity 0.2s; pointer-events: none; white-space: nowrap;">
                Hablamos Español
            </div>
            <div id="tooltip-book" style="position: absolute; bottom: 100%; right: 0; margin-bottom: 8px; padding: 6px 12px;
                        background-color: #1f2937; color: white; font-size: 12px; border-radius: 4px;
                        opacity: 0; transition: opacity 0.2s; pointer-events: none; white-space: nowrap;">
                Book Appointment
            </div>
        </div>
    </div>
    
    <!-- Mobile Tooltip Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (window.innerWidth < 640) { // Mobile view
                const buttons = document.querySelectorAll('a[data-tooltip-id]');
                buttons.forEach((button) => {
                    const tooltipId = button.getAttribute('data-tooltip-id');
                    const tooltip = document.getElementById(tooltipId);
                    if (!tooltip) return;

                    button.addEventListener('touchstart', function() {
                        tooltip.style.opacity = '1';
                    });
                    button.addEventListener('touchend', function() {
                        setTimeout(function() {
                            tooltip.style.opacity = '0';
                        }, 1500);
                    });
                });
            }
        });
    </script>

    <!-- JavaScript -->
    {% block extra_js %}{% endblock %}
</body>
</html>
