<!-- acceleratedrehabtherapy\templates\includes\_locations_map.html -->

{% load static %}

<!-- Locations Map Section -->
<div class="bg-[#012E47] text-white py-16" 
     x-data="{ 
        selectedLocation: 'greeley',
        locations: {
            greeley: {
                city: 'GREELEY',
                address: '2928 W 10th St Greeley, CO 80634',
                email: 'greeleyrehab@gmail.com',
                phone: '970 324 1750',
                coords: { lat: 40.422457, lng: -104.728624 }
            },
            fortCollins: {
                city: 'FORT COLLINS',
                address: '105 Coronado Ct. STE B-102 Fort Collins, CO 80525',
                email: 'greeleyrehab@gmail.com',
                phone: '970-324-1750',
                coords: { lat: 40.515392, lng: -105.078325 }
            }
        }
     }">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-4xl font-bold text-center mb-12 text-white">
            MAKE AN APPOINTMENT TODAY
        </h2>
        
        <div class="grid md:grid-cols-2 gap-8 mb-8">
            <!-- Greeley Location Card -->
            <div class="bg-[#236E8C] border-2 rounded-lg p-6 transition-all duration-300 flex flex-col justify-between h-full"
                 :class="{ 'border-yellow-400': selectedLocation === 'greeley', 'border-gray-700': selectedLocation !== 'greeley' }">
                <div class="mb-4">
                    <h3 class="text-2xl font-bold text-yellow-400" x-text="locations.greeley.city"></h3>
                </div>
                <div class="space-y-4">
                    <div class="flex items-start space-x-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mt-1 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        <p class="text-gray-300" x-text="locations.greeley.address"></p>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                        </svg>
                        <a :href="'mailto:' + locations.greeley.email"
                           class="text-gray-300 hover:text-yellow-400 transition-colors"
                           x-text="locations.greeley.email"></a>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                        </svg>
                        <a :href="'tel:' + locations.greeley.phone"
                           class="text-gray-300 hover:text-yellow-400 transition-colors"
                           x-text="locations.greeley.phone"></a>
                    </div>
                    
                    <button @click="selectedLocation = 'greeley'"
                            class="w-full py-3 px-6 rounded-lg transition-colors"
                            :class="selectedLocation === 'greeley' ? 'bg-yellow-400 text-gray-900 hover:bg-yellow-500' : 'bg-gray-700 text-white hover:bg-gray-600'">
                        On Map
                    </button>
                </div>
            </div>

            <!-- Fort Collins Location Card -->
            <div class="bg-[#236E8C] border-2 rounded-lg p-6 transition-all duration-300 flex flex-col justify-between h-full"
                 :class="{ 'border-yellow-400': selectedLocation === 'fortCollins', 'border-gray-700': selectedLocation !== 'fortCollins' }">
                <div class="mb-4">
                    <h3 class="text-2xl font-bold text-yellow-400" x-text="locations.fortCollins.city"></h3>
                </div>
                <div class="space-y-4">
                    <div class="flex items-start space-x-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mt-1 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        <p class="text-gray-300" x-text="locations.fortCollins.address"></p>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                        </svg>
                        <a :href="'mailto:' + locations.fortCollins.email"
                           class="text-gray-300 hover:text-yellow-400 transition-colors"
                           x-text="locations.fortCollins.email"></a>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                        </svg>
                        <a :href="'tel:' + locations.fortCollins.phone"
                           class="text-gray-300 hover:text-yellow-400 transition-colors"
                           x-text="locations.fortCollins.phone"></a>
                    </div>
                    
                    <button @click="selectedLocation = 'fortCollins'"
                            class="w-full py-3 px-6 rounded-lg transition-colors"
                            :class="selectedLocation === 'fortCollins' ? 'bg-yellow-400 text-gray-900 hover:bg-yellow-500' : 'bg-gray-700 text-white hover:bg-gray-600'">
                        On Map
                    </button>
                </div>
            </div>
        </div>

        <!-- Map Container -->
        <div class="w-full h-96 bg-gray-700 rounded-lg overflow-hidden">
            <div class="w-full h-full" id="map"></div>
        </div>

        <!-- Let's Talk Section -->
        <div class="mt-16 text-center">
            <h2 class="text-4xl font-bold mb-8 text-white">LET'S TALK</h2>
            <a href="/contact/" 
               class="inline-block bg-yellow-400 text-gray-900 px-8 py-4 rounded-lg text-xl font-bold hover:bg-yellow-500 transition-colors">
                GET THE CONSULTATION
            </a>
        </div>
    </div>
</div>

<!-- Google Maps Script -->
<script>
    function initMap() {
        const map = new google.maps.Map(document.getElementById('map'), {
            zoom: 15,
            center: { lat: 40.422457, lng: -104.728624 },
            styles: [
                {
                    "featureType": "all",
                    "elementType": "labels.text.fill",
                    "stylers": [{"saturation": 36}, {"color": "#333333"}, {"lightness": 40}]
                },
                {
                    "featureType": "all",
                    "elementType": "labels.text.stroke",
                    "stylers": [{"visibility": "on"}, {"color": "#ffffff"}, {"lightness": 16}]
                }
            ]
        });

        const markers = {
            greeley: new google.maps.Marker({
                position: { lat: 40.422457, lng: -104.728624 },
                map: map,
                icon: "{% static 'img/pin.png' %}"
            }),
            fortCollins: new google.maps.Marker({
                position: { lat: 40.515392, lng: -105.078325 },
                map: map,
                icon: "{% static 'img/pin.png' %}"
            })
        };

        // Update map center when location changes
        document.addEventListener('alpine:init', () => {
            Alpine.effect(() => {
                const selectedLocation = Alpine.store('selectedLocation');
                const coords = locations[selectedLocation].coords;
                map.panTo(coords);
            });
        });
    }
</script>
<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap">
</script>